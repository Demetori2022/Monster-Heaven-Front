import{_ as N,a as B,r as D,D as A,o as s,c as a,e as _,d as e,w as p,am as y,S as d,a8 as x,an as E,aq as k,p as $,f as q,ap as w,ao as m,g as S,i as z}from"./index.7630c73f.js";import{_ as F}from"./Space.7306791a.js";import{_ as L}from"./Pagination.4e912822.js";import{_ as M,a as P}from"./Table.84f6203b.js";import"./Input.476f9a66.js";import"./Tag.7b40e93f.js";const V=l=>($("data-v-e578633c"),l=l(),q(),l),T={id:"usersbox"},j=V(()=>e("h1",{class:"title"},"\u6703\u54E1\u7BA1\u7406",-1)),G=V(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),H={key:0},J=S("\u522A\u9664"),K={key:1},O=S("\u522A\u9664"),Q={__name:"UsersView",setup(l){const i=B([]),t=D(1),c=5,g=A(()=>i.slice(t.value*c-c,t.value*c)),h=async(o,u)=>{try{await y.delete("/users/"+o),d.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),i.splice(u,1)}catch(r){d.fire({icon:"error",title:"\u5931\u6557",text:r.isAxiosError?r.response.data.message:r.message})}};return(async()=>{try{const{data:o}=await y.get("/users/all");i.push(...o.result)}catch(o){console.log(o),d.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(o,u)=>{const r=M,v=z,C=P,I=F,U=L;return s(),a("div",T,[j,_(r),e("div",null,[_(I,{vertical:""},{default:p(()=>[_(C,{striped:""},{default:p(()=>[G,e("tbody",null,[(s(!0),a(x,null,E(k(g),(n,f)=>(s(),a(x,null,[k(g).length>0?(s(),a("tr",{key:n._id},[e("td",null,w(n._id),1),e("td",null,w(n.account),1),t.value===1?(s(),a("td",H,[_(v,{type:"error",onClick:b=>h(n._id,f)},{default:p(()=>[J]),_:2},1032,["onClick"])])):m("",!0),t.value>1?(s(),a("td",K,[_(v,{type:"error",onClick:b=>h(n._id,f+(t.value-1)*c)},{default:p(()=>[O]),_:2},1032,["onClick"])])):m("",!0)])):m("",!0)],64))),256))])]),_:1})]),_:1})]),_(U,{page:t.value,"onUpdate:page":u[0]||(u[0]=n=>t.value=n),"page-count":Math.ceil(i.length/c)},null,8,["page","page-count"])])}}},ne=N(Q,[["__scopeId","data-v-e578633c"]]);export{ne as default};
