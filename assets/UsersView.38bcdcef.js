import{_ as I,a as U,r as C,D as N,o as i,c as p,e as o,d as e,w as u,am as g,S as d,a8 as h,an as B,aq as f,p as D,f as A,ap as v,ao as E,g as q,i as z}from"./index.9adaeed2.js";import{_ as F}from"./Space.69b9bd99.js";import{_ as L}from"./Pagination.2bce9e0b.js";import{_ as M,a as P}from"./Table.d3a2ff76.js";import"./Input.f170982d.js";import"./Tag.156a7dd8.js";const x=a=>(D("data-v-4c43935b"),a=a(),A(),a),T={id:"usersbox"},$=x(()=>e("h1",{class:"title"},"\u6703\u54E1\u7BA1\u7406",-1)),j=x(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),G=q("\u522A\u9664"),H={__name:"UsersView",setup(a){const c=U([]),r=C(1),_=12,m=N(()=>c.slice(r.value*_-_,r.value*_)),y=async(t,l)=>{try{await g.delete("/users/"+t),d.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),c.splice(l,1)}catch(s){d.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}};return(async()=>{try{const{data:t}=await g.get("/users/all");c.push(...t.result)}catch(t){console.log(t),d.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(t,l)=>{const s=M,w=z,b=P,S=F,V=L;return i(),p("div",T,[$,o(s),e("div",null,[o(S,{vertical:""},{default:u(()=>[o(b,{striped:""},{default:u(()=>[j,e("tbody",null,[(i(!0),p(h,null,B(f(m),(n,k)=>(i(),p(h,null,[f(m).length>0?(i(),p("tr",{key:n._id},[e("td",null,v(n._id),1),e("td",null,v(n.account),1),e("td",null,[o(w,{type:"error",onClick:K=>y(n._id,k)},{default:u(()=>[G]),_:2},1032,["onClick"])])])):E("",!0)],64))),256))])]),_:1})]),_:1})]),o(V,{page:r.value,"onUpdate:page":l[0]||(l[0]=n=>r.value=n),"page-count":Math.ceil(c.length/_)},null,8,["page","page-count"])])}}},Z=I(H,[["__scopeId","data-v-4c43935b"]]);export{Z as default};
