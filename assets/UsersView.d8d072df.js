import{_ as I,a as U,r as C,D as N,o as i,c as p,e as o,d as e,w as u,am as g,S as d,a8 as h,an as B,aq as f,p as D,f as A,ap as v,ao as E,g as q,i as z}from"./index.e1554bef.js";import{_ as F}from"./Space.5a32475d.js";import{_ as L}from"./Pagination.15adc18e.js";import{_ as M,a as P}from"./Table.daa006f6.js";import"./Input.19937636.js";import"./Tag.d7197483.js";const x=a=>(D("data-v-6218b735"),a=a(),A(),a),T={id:"usersbox"},$=x(()=>e("h1",{class:"title"},"\u6703\u54E1\u7BA1\u7406",-1)),j=x(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),G=q("\u522A\u9664"),H={__name:"UsersView",setup(a){const r=U([]),_=C(1),c=12,m=N(()=>r.slice(_.value*c-c,_.value*c)),y=async(t,l)=>{try{await g.delete("/users/"+t),d.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),r.splice(l,1)}catch(s){d.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}};return(async()=>{try{const{data:t}=await g.get("/users/all");r.push(...t.result)}catch(t){console.log(t),d.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(t,l)=>{const s=M,w=z,b=P,S=F,V=L;return i(),p("div",T,[$,o(s),e("div",null,[o(S,{vertical:""},{default:u(()=>[o(b,{striped:""},{default:u(()=>[j,e("tbody",null,[(i(!0),p(h,null,B(f(m),(n,k)=>(i(),p(h,null,[f(m).length>0?(i(),p("tr",{key:n._id},[e("td",null,v(n._id),1),e("td",null,v(n.account),1),e("td",null,[o(w,{type:"error",onClick:K=>y(n._id,k)},{default:u(()=>[G]),_:2},1032,["onClick"])])])):E("",!0)],64))),256))])]),_:1})]),_:1})]),o(V,{page:_.value,"onUpdate:page":l[0]||(l[0]=n=>_.value=n),"page-count":Math.ceil(r.length/c)},null,8,["page","page-count"])])}}},Z=I(H,[["__scopeId","data-v-6218b735"]]);export{Z as default};
