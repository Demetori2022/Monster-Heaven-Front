import{_ as w,a as V,o as _,c,e as r,d as e,w as l,am as p,S as i,a9 as u,an as S,p as k,f as I,ap as m,ao as b,g as C,i as N}from"./index.9492dcfa.js";import{_ as B}from"./Space.a082ada8.js";import{_ as U,a as A}from"./Table.ba1b3af6.js";const h=n=>(k("data-v-ced26efd"),n=n(),I(),n),D={id:"usersbox"},E=h(()=>e("h1",{class:"title"},"\u6703\u54E1\u7BA1\u7406",-1)),F=h(()=>e("thead",null,[e("tr",null,[e("th",null,"ID"),e("th",null,"\u4F7F\u7528\u8005"),e("th",null,"\u522A\u9664")])],-1)),L=C("\u522A\u9664"),T={__name:"UsersView",setup(n){const o=V([]),f=async(t,d)=>{try{await p.delete("/users/"+t),i.fire({icon:"success",title:"\u6210\u529F",text:"\u522A\u9664\u6210\u529F"}),o.splice(d,1)}catch(s){i.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}};return(async()=>{try{const{data:t}=await p.get("/users/all");o.push(...t.result)}catch(t){console.log(t),i.fire({icon:"error",title:"\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u6703\u54E1\u8CC7\u6599"})}})(),(t,d)=>{const s=U,g=N,x=A,v=B;return _(),c("div",D,[E,r(s),e("div",null,[r(v,{vertical:""},{default:l(()=>[r(x,{striped:""},{default:l(()=>[F,e("tbody",null,[(_(!0),c(u,null,S(o,(a,y)=>(_(),c(u,null,[o.length>0?(_(),c("tr",{key:a._id},[e("td",null,m(a._id),1),e("td",null,m(a.account),1),e("td",null,[r(g,{type:"error",onClick:j=>f(a._id,y)},{default:l(()=>[L]),_:2},1032,["onClick"])])])):b("",!0)],64))),256))])]),_:1})]),_:1})])])}}},H=w(T,[["__scopeId","data-v-ced26efd"]]);export{H as default};
