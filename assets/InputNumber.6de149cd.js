import{x as de,aK as Ue,aL as _t,aM as Bt,L as Ae,aN as hn,aO as vn,D as _,r as z,a4 as ve,aw as st,aP as We,B as l,aQ as gn,a9 as wt,aR as pn,aa as vt,aS as bn,aT as xt,m as $t,n as Ne,q as V,H as G,t as fe,y as gt,z as we,j as pt,Q as mn,M as Re,N as Ye,Y as Ke,aC as Xe,aU as wn,aV as bt,aW as Be,T as At,s as ue,a1 as dt,aX as Nt,I as ae,l as $e,A as yt,aY as xn,O as ut,Z as yn,a7 as Cn,X as ct,aZ as Sn,ac as tt,aF as Ge,aD as Rn,$ as _e,a5 as Tn,a_ as Fn,aI as Mn,a8 as On,a2 as ft,a$ as zn,a3 as Vt,b0 as In,b1 as ht,b2 as Pn,b3 as kn,b4 as _n,b5 as Bn,b6 as $n,b7 as Ct,aE as An,ad as re,b8 as Nn,a6 as Vn,b9 as En,ab as St,ba as Rt}from"./index.104bce3f.js";import{u as mt,N as Dn,i as Ln,_ as Hn}from"./Input.6ffe9509.js";import{N as nt}from"./Tag.3e7c69d3.js";function Wn(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}function ot(e){const t=e.filter(o=>o!==void 0);if(t.length!==0)return t.length===1?t[0]:o=>{e.forEach(r=>{r&&r(o)})}}const Et=new WeakSet;function jn(e){Et.add(e)}function Vo(e){return!Et.has(e)}function Tt(e){return e&-e}class Un{constructor(t,o){this.l=t,this.min=o;const r=new Array(t+1);for(let i=0;i<t+1;++i)r[i]=0;this.ft=r}add(t,o){if(o===0)return;const{l:r,ft:i}=this;for(t+=1;t<=r;)i[t]+=o,t+=Tt(t)}get(t){return this.sum(t+1)-this.sum(t)}sum(t){if(t===void 0&&(t=this.l),t<=0)return 0;const{ft:o,min:r,l:i}=this;if(t>i)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let c=t*r;for(;t>0;)c+=o[t],t-=Tt(t);return c}getBound(t){let o=0,r=this.l;for(;r>o;){const i=Math.floor((o+r)/2),c=this.sum(i);if(c>t){r=i;continue}else if(c<t){if(o===i)return this.sum(o+1)<=t?o+1:i;o=i}else return i}return o}}let je;function Kn(){return je===void 0&&("matchMedia"in window?je=window.matchMedia("(pointer:coarse)").matches:je=!1),je}let it;function Ft(){return it===void 0&&(it="chrome"in window?window.devicePixelRatio:1),it}const Gn=Ue(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Ue("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Ue("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),qn=de({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=_t();Gn.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Bt,ssr:t}),Ae(()=>{const{defaultScrollIndex:h,defaultScrollKey:m}=e;h!=null?w({index:h}):m!=null&&w({key:m})});let o=!1,r=!1;hn(()=>{if(o=!1,!r){r=!0;return}w({top:F.value,left:g})}),vn(()=>{o=!0,r||(r=!0)});const i=_(()=>{const h=new Map,{keyField:m}=e;return e.items.forEach((B,X)=>{h.set(B[m],X)}),h}),c=z(null),f=z(void 0),a=new Map,S=_(()=>{const{items:h,itemSize:m,keyField:B}=e,X=new Un(h.length,m);return h.forEach((Z,U)=>{const $=Z[B],J=a.get($);J!==void 0&&X.add(U,J)}),X}),x=z(0);let g=0;const F=z(0),O=ve(()=>Math.max(S.value.getBound(F.value-st(e.paddingTop))-1,0)),P=_(()=>{const{value:h}=f;if(h===void 0)return[];const{items:m,itemSize:B}=e,X=O.value,Z=Math.min(X+Math.ceil(h/B+1),m.length-1),U=[];for(let $=X;$<=Z;++$)U.push(m[$]);return U}),w=(h,m)=>{if(typeof h=="number"){T(h,m,"auto");return}const{left:B,top:X,index:Z,key:U,position:$,behavior:J,debounce:s=!0}=h;if(B!==void 0||X!==void 0)T(B,X,J);else if(Z!==void 0)R(Z,J,s);else if(U!==void 0){const p=i.value.get(U);p!==void 0&&R(p,J,s)}else $==="bottom"?T(0,Number.MAX_SAFE_INTEGER,J):$==="top"&&T(0,0,J)};let C,k=null;function R(h,m,B){const{value:X}=S,Z=X.sum(h)+st(e.paddingTop);if(!B)c.value.scrollTo({left:0,top:Z,behavior:m});else{C=h,k!==null&&window.clearTimeout(k),k=window.setTimeout(()=>{C=void 0,k=null},16);const{scrollTop:U,offsetHeight:$}=c.value;if(Z>U){const J=X.get(h);Z+J<=U+$||c.value.scrollTo({left:0,top:Z+J-$,behavior:m})}else c.value.scrollTo({left:0,top:Z,behavior:m})}}function T(h,m,B){c.value.scrollTo({left:h,top:m,behavior:B})}function Y(h,m){var B,X,Z;if(o||e.ignoreItemResize||le(m.target))return;const{value:U}=S,$=i.value.get(h),J=U.get($),s=(Z=(X=(B=m.borderBoxSize)===null||B===void 0?void 0:B[0])===null||X===void 0?void 0:X.blockSize)!==null&&Z!==void 0?Z:m.contentRect.height;if(s===J)return;s-e.itemSize===0?a.delete(h):a.set(h,s-e.itemSize);const H=s-J;if(H===0)return;U.add($,H);const ne=c.value;if(ne!=null){if(C===void 0){const se=U.sum($);ne.scrollTop>se&&ne.scrollBy(0,H)}else if($<C)ne.scrollBy(0,H);else if($===C){const se=U.sum($);s+se>ne.scrollTop+ne.offsetHeight&&ne.scrollBy(0,H)}te()}x.value++}const Q=!Kn();let ee=!1;function L(h){var m;(m=e.onScroll)===null||m===void 0||m.call(e,h),(!Q||!ee)&&te()}function q(h){var m;if((m=e.onWheel)===null||m===void 0||m.call(e,h),Q){const B=c.value;if(B!=null){if(h.deltaX===0&&(B.scrollTop===0&&h.deltaY<=0||B.scrollTop+B.offsetHeight>=B.scrollHeight&&h.deltaY>=0))return;h.preventDefault(),B.scrollTop+=h.deltaY/Ft(),B.scrollLeft+=h.deltaX/Ft(),te(),ee=!0,pn(()=>{ee=!1})}}}function K(h){if(o||le(h.target)||h.contentRect.height===f.value)return;f.value=h.contentRect.height;const{onResize:m}=e;m!==void 0&&m(h)}function te(){const{value:h}=c;h!=null&&(F.value=h.scrollTop,g=h.scrollLeft)}function le(h){let m=h;for(;m!==null;){if(m.style.display==="none")return!0;m=m.parentElement}return!1}return{listHeight:f,listStyle:{overflow:"auto"},keyToIndex:i,itemsStyle:_(()=>{const{itemResizable:h}=e,m=We(S.value.sum());return x.value,[e.itemsStyle,{boxSizing:"content-box",height:h?"":m,minHeight:h?m:"",paddingTop:We(e.paddingTop),paddingBottom:We(e.paddingBottom)}]}),visibleItemsStyle:_(()=>(x.value,{transform:`translateY(${We(S.value.sum(O.value))})`})),viewportItems:P,listElRef:c,itemsElRef:z(null),scrollTo:w,handleListResize:K,handleListScroll:L,handleListWheel:q,handleItemResize:Y}},render(){const{itemResizable:e,keyField:t,keyToIndex:o,visibleItemsTag:r}=this;return l(wt,{onResize:this.handleListResize},{default:()=>{var i,c;return l("div",gn(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[this.items.length!==0?l("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[l(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(f=>{const a=f[t],S=o.get(a),x=this.$slots.default({item:f,index:S})[0];return e?l(wt,{key:a,onResize:g=>this.handleItemResize(a,g)},{default:()=>x}):(x.key=a,x)})})]):(c=(i=this.$slots).empty)===null||c===void 0?void 0:c.call(i)])}})}}),ke="v-hidden",Yn=Ue("[v-hidden]",{display:"none!important"}),Mt=de({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const o=z(null),r=z(null);function i(){const{value:f}=o,{getCounter:a,getTail:S}=e;let x;if(a!==void 0?x=a():x=r.value,!f||!x)return;x.hasAttribute(ke)&&x.removeAttribute(ke);const{children:g}=f,F=f.offsetWidth,O=[],P=t.tail?S==null?void 0:S():null;let w=P?P.offsetWidth:0,C=!1;const k=f.children.length-(t.tail?1:0);for(let T=0;T<k-1;++T){if(T<0)continue;const Y=g[T];if(C){Y.hasAttribute(ke)||Y.setAttribute(ke,"");continue}else Y.hasAttribute(ke)&&Y.removeAttribute(ke);const Q=Y.offsetWidth;if(w+=Q,O[T]=Q,w>F){const{updateCounter:ee}=e;for(let L=T;L>=0;--L){const q=k-1-L;ee!==void 0?ee(q):x.textContent=`${q}`;const K=x.offsetWidth;if(w-=O[L],w+K<=F||L===0){C=!0,T=L-1,P&&(T===-1?(P.style.maxWidth=`${F-K}px`,P.style.boxSizing="border-box"):P.style.maxWidth="");break}}}}const{onUpdateOverflow:R}=e;C?R!==void 0&&R(!0):(R!==void 0&&R(!1),x.setAttribute(ke,""))}const c=_t();return Yn.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Bt,ssr:c}),Ae(i),{selfRef:o,counterRef:r,sync:i}},render(){const{$slots:e}=this;return vt(this.sync),l("div",{class:"v-overflow",ref:"selfRef"},[bn(e,"default"),e.counter?e.counter():l("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function Dt(e,t){t&&(Ae(()=>{const{value:o}=e;o&&xt.registerHandler(o,t)}),$t(()=>{const{value:o}=e;o&&xt.unregisterHandler(o)}))}const Xn=de({name:"Add",render(){return l("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Zn=de({name:"Checkmark",render(){return l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},l("g",{fill:"none"},l("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Qn=de({name:"Empty",render(){return l("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),l("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Jn=de({name:"Remove",render(){return l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},l("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),eo=de({props:{onFocus:Function,onBlur:Function},setup(e){return()=>l("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})}}),to={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},no=e=>{const{textColorDisabled:t,iconColor:o,textColor2:r,fontSizeSmall:i,fontSizeMedium:c,fontSizeLarge:f,fontSizeHuge:a}=e;return Object.assign(Object.assign({},to),{fontSizeSmall:i,fontSizeMedium:c,fontSizeLarge:f,fontSizeHuge:a,textColor:t,iconColor:o,extraTextColor:r})},oo={name:"Empty",common:Ne,self:no},Lt=oo,io=V("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[G("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[fe("+",[G("description",`
 margin-top: 8px;
 `)])]),G("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),G("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),lo=Object.assign(Object.assign({},we.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),ro=de({name:"Empty",props:lo,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=gt(e),r=we("Empty","-empty",io,Lt,e,t),{localeRef:i}=mt("Empty"),c=pt(mn,null),f=_(()=>{var g,F,O;return(g=e.description)!==null&&g!==void 0?g:(O=(F=c==null?void 0:c.mergedComponentPropsRef.value)===null||F===void 0?void 0:F.Empty)===null||O===void 0?void 0:O.description}),a=_(()=>{var g,F;return((F=(g=c==null?void 0:c.mergedComponentPropsRef.value)===null||g===void 0?void 0:g.Empty)===null||F===void 0?void 0:F.renderIcon)||(()=>l(Qn,null))}),S=_(()=>{const{size:g}=e,{common:{cubicBezierEaseInOut:F},self:{[Re("iconSize",g)]:O,[Re("fontSize",g)]:P,textColor:w,iconColor:C,extraTextColor:k}}=r.value;return{"--n-icon-size":O,"--n-font-size":P,"--n-bezier":F,"--n-text-color":w,"--n-icon-color":C,"--n-extra-text-color":k}}),x=o?Ye("empty",_(()=>{let g="";const{size:F}=e;return g+=F[0],g}),S,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:a,localizedDescription:_(()=>f.value||i.value.description),cssVars:o?void 0:S,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:o}=this;return o==null||o(),l("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?l("div",{class:`${t}-empty__icon`},e.icon?e.icon():l(Ke,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?l("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?l("div",{class:`${t}-empty__extra`},e.extra()):null)}}),ao={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},so=e=>{const{borderRadius:t,popoverColor:o,textColor3:r,dividerColor:i,textColor2:c,primaryColorPressed:f,textColorDisabled:a,primaryColor:S,opacityDisabled:x,hoverColor:g,fontSizeSmall:F,fontSizeMedium:O,fontSizeLarge:P,fontSizeHuge:w,heightSmall:C,heightMedium:k,heightLarge:R,heightHuge:T}=e;return Object.assign(Object.assign({},ao),{optionFontSizeSmall:F,optionFontSizeMedium:O,optionFontSizeLarge:P,optionFontSizeHuge:w,optionHeightSmall:C,optionHeightMedium:k,optionHeightLarge:R,optionHeightHuge:T,borderRadius:t,color:o,groupHeaderTextColor:r,actionDividerColor:i,optionTextColor:c,optionTextColorPressed:f,optionTextColorDisabled:a,optionTextColorActive:S,optionOpacityDisabled:x,optionCheckColor:S,optionColorPending:g,optionColorActive:"rgba(0, 0, 0, 0)",optionColorActivePending:g,actionTextColor:c,loadingColor:S})},uo=Xe({name:"InternalSelectMenu",common:Ne,peers:{Scrollbar:wn,Empty:Lt},self:so}),Ht=uo,co=l(Zn);function fo(e,t){return l(At,{name:"fade-in-scale-up-transition"},{default:()=>e?l(Ke,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>co}):null})}const Ot=de({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:o,multipleRef:r,valueSetRef:i,renderLabelRef:c,renderOptionRef:f,labelFieldRef:a,valueFieldRef:S,showCheckmarkRef:x,nodePropsRef:g,handleOptionClick:F,handleOptionMouseEnter:O}=pt(bt),P=ve(()=>{const{value:R}=o;return R?e.tmNode.key===R.key:!1});function w(R){const{tmNode:T}=e;T.disabled||F(R,T)}function C(R){const{tmNode:T}=e;T.disabled||O(R,T)}function k(R){const{tmNode:T}=e,{value:Y}=P;T.disabled||Y||O(R,T)}return{multiple:r,isGrouped:ve(()=>{const{tmNode:R}=e,{parent:T}=R;return T&&T.rawNode.type==="group"}),showCheckmark:x,nodeProps:g,isPending:P,isSelected:ve(()=>{const{value:R}=t,{value:T}=r;if(R===null)return!1;const Y=e.tmNode.rawNode[S.value];if(T){const{value:Q}=i;return Q.has(Y)}else return R===Y}),labelField:a,renderLabel:c,renderOption:f,handleMouseMove:k,handleMouseEnter:C,handleClick:w}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:o,isPending:r,isGrouped:i,showCheckmark:c,nodeProps:f,renderOption:a,renderLabel:S,handleClick:x,handleMouseEnter:g,handleMouseMove:F}=this,O=fo(o,e),P=S?[S(t,o),c&&O]:[Be(t[this.labelField],t,o),c&&O],w=f==null?void 0:f(t),C=l("div",Object.assign({},w,{class:[`${e}-base-select-option`,t.class,w==null?void 0:w.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:o,[`${e}-base-select-option--grouped`]:i,[`${e}-base-select-option--pending`]:r,[`${e}-base-select-option--show-checkmark`]:c}],style:[(w==null?void 0:w.style)||"",t.style||""],onClick:ot([x,w==null?void 0:w.onClick]),onMouseenter:ot([g,w==null?void 0:w.onMouseenter]),onMousemove:ot([F,w==null?void 0:w.onMousemove])}),l("div",{class:`${e}-base-select-option__content`},P));return t.render?t.render({node:C,option:t,selected:o}):a?a({node:C,option:t,selected:o}):C}}),zt=de({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:o,nodePropsRef:r}=pt(bt);return{labelField:o,nodeProps:r,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:o,nodeProps:r,tmNode:{rawNode:i}}=this,c=r==null?void 0:r(i),f=t?t(i,!1):Be(i[this.labelField],i,!1),a=l("div",Object.assign({},c,{class:[`${e}-base-select-group-header`,c==null?void 0:c.class]}),f);return i.render?i.render({node:a,option:i}):o?o({node:a,option:i,selected:!1}):a}}),ho=V("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[V("scrollbar",`
 max-height: var(--n-height);
 `),V("virtual-list",`
 max-height: var(--n-height);
 `),V("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[G("content",`
 z-index: 1;
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),V("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),V("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),G("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),G("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),G("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),V("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),V("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[ue("show-checkmark",`
 padding-right: calc(var(--n-option-padding-right) + 20px);
 `),fe("&::before",`
 content: "";
 position: absolute;
 left: 4px;
 right: 4px;
 top: 0;
 bottom: 0;
 border-radius: var(--n-border-radius);
 transition: background-color .3s var(--n-bezier);
 `),fe("&:active",`
 color: var(--n-option-text-color-pressed);
 `),ue("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),ue("pending",[fe("&::before",`
 background-color: var(--n-option-color-pending);
 `)]),ue("selected",`
 color: var(--n-option-text-color-active);
 `,[fe("&::before",`
 background-color: var(--n-option-color-active);
 `),ue("pending",[fe("&::before",`
 background-color: var(--n-option-color-active-pending);
 `)])]),ue("disabled",`
 cursor: not-allowed;
 `,[dt("selected",`
 color: var(--n-option-text-color-disabled);
 `),ue("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),G("check",`
 font-size: 16px;
 position: absolute;
 right: calc(var(--n-option-padding-right) - 4px);
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[Nt({enterScale:"0.5"})])])]),vo=de({name:"InternalSelectMenu",props:Object.assign(Object.assign({},we.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const t=we("InternalSelectMenu","-internal-select-menu",ho,Ht,e,ae(e,"clsPrefix")),o=z(null),r=z(null),i=z(null),c=_(()=>e.treeMate.getFlattenedNodes()),f=_(()=>Sn(c.value)),a=z(null);function S(){const{treeMate:s}=e;let p=null;const{value:H}=e;H===null?p=s.getFirstAvailableNode():(e.multiple?p=s.getNode((H||[])[(H||[]).length-1]):p=s.getNode(H),(!p||p.disabled)&&(p=s.getFirstAvailableNode())),h(p||null)}function x(){const{value:s}=a;s&&!e.treeMate.getNode(s.key)&&(a.value=null)}let g;$e(()=>e.show,s=>{s?g=$e(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?S():x(),vt(m)):x()},{immediate:!0}):g==null||g()},{immediate:!0}),$t(()=>{g==null||g()});const F=_(()=>st(t.value.self[Re("optionHeight",e.size)])),O=_(()=>tt(t.value.self[Re("padding",e.size)])),P=_(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),w=_(()=>{const s=c.value;return s&&s.length===0});function C(s){const{onToggle:p}=e;p&&p(s)}function k(s){const{onScroll:p}=e;p&&p(s)}function R(s){var p;(p=i.value)===null||p===void 0||p.sync(),k(s)}function T(){var s;(s=i.value)===null||s===void 0||s.sync()}function Y(){const{value:s}=a;return s||null}function Q(s,p){p.disabled||h(p,!1)}function ee(s,p){p.disabled||C(p)}function L(s){var p;Ge(s,"action")||(p=e.onKeyup)===null||p===void 0||p.call(e,s)}function q(s){var p;Ge(s,"action")||(p=e.onKeydown)===null||p===void 0||p.call(e,s)}function K(s){var p;(p=e.onMousedown)===null||p===void 0||p.call(e,s),!e.focusable&&s.preventDefault()}function te(){const{value:s}=a;s&&h(s.getNext({loop:!0}),!0)}function le(){const{value:s}=a;s&&h(s.getPrev({loop:!0}),!0)}function h(s,p=!1){a.value=s,p&&m()}function m(){var s,p;const H=a.value;if(!H)return;const ne=f.value(H.key);ne!==null&&(e.virtualScroll?(s=r.value)===null||s===void 0||s.scrollTo({index:ne}):(p=i.value)===null||p===void 0||p.scrollTo({index:ne,elSize:F.value}))}function B(s){var p,H;!((p=o.value)===null||p===void 0)&&p.contains(s.target)&&((H=e.onFocus)===null||H===void 0||H.call(e,s))}function X(s){var p,H;!((p=o.value)===null||p===void 0)&&p.contains(s.relatedTarget)||(H=e.onBlur)===null||H===void 0||H.call(e,s)}yt(bt,{handleOptionMouseEnter:Q,handleOptionClick:ee,valueSetRef:P,pendingTmNodeRef:a,nodePropsRef:ae(e,"nodeProps"),showCheckmarkRef:ae(e,"showCheckmark"),multipleRef:ae(e,"multiple"),valueRef:ae(e,"value"),renderLabelRef:ae(e,"renderLabel"),renderOptionRef:ae(e,"renderOption"),labelFieldRef:ae(e,"labelField"),valueFieldRef:ae(e,"valueField")}),yt(xn,o),Ae(()=>{const{value:s}=i;s&&s.sync()});const Z=_(()=>{const{size:s}=e,{common:{cubicBezierEaseInOut:p},self:{height:H,borderRadius:ne,color:se,groupHeaderTextColor:he,actionDividerColor:ge,optionTextColorPressed:xe,optionTextColor:ye,optionTextColorDisabled:pe,optionTextColorActive:oe,optionOpacityDisabled:Te,optionCheckColor:be,actionTextColor:Me,optionColorPending:Ce,optionColorActive:Se,loadingColor:Oe,loadingSize:ze,optionColorActivePending:u,[Re("optionFontSize",s)]:y,[Re("optionHeight",s)]:I,[Re("optionPadding",s)]:D}}=t.value;return{"--n-height":H,"--n-action-divider-color":ge,"--n-action-text-color":Me,"--n-bezier":p,"--n-border-radius":ne,"--n-color":se,"--n-option-font-size":y,"--n-group-header-text-color":he,"--n-option-check-color":be,"--n-option-color-pending":Ce,"--n-option-color-active":Se,"--n-option-color-active-pending":u,"--n-option-height":I,"--n-option-opacity-disabled":Te,"--n-option-text-color":ye,"--n-option-text-color-active":oe,"--n-option-text-color-disabled":pe,"--n-option-text-color-pressed":xe,"--n-option-padding":D,"--n-option-padding-left":tt(D,"left"),"--n-option-padding-right":tt(D,"right"),"--n-loading-color":Oe,"--n-loading-size":ze}}),{inlineThemeDisabled:U}=e,$=U?Ye("internal-select-menu",_(()=>e.size[0]),Z,e):void 0,J={selfRef:o,next:te,prev:le,getPendingTmNode:Y};return Dt(o,e.onResize),Object.assign({mergedTheme:t,virtualListRef:r,scrollbarRef:i,itemSize:F,padding:O,flattenedNodes:c,empty:w,virtualListContainer(){const{value:s}=r;return s==null?void 0:s.listElRef},virtualListContent(){const{value:s}=r;return s==null?void 0:s.itemsElRef},doScroll:k,handleFocusin:B,handleFocusout:X,handleKeyUp:L,handleKeyDown:q,handleMouseDown:K,handleVirtualListResize:T,handleVirtualListScroll:R,cssVars:U?void 0:Z,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender},J)},render(){const{$slots:e,virtualScroll:t,clsPrefix:o,mergedTheme:r,themeClass:i,onRender:c}=this;return c==null||c(),l("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${o}-base-select-menu`,i,this.multiple&&`${o}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?l("div",{class:`${o}-base-select-menu__loading`},l(yn,{clsPrefix:o,strokeWidth:20})):this.empty?l("div",{class:`${o}-base-select-menu__empty`,"data-empty":!0},ct(e.empty,()=>[l(ro,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty})])):l(Cn,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?l(qn,{ref:"virtualListRef",class:`${o}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:f})=>f.isGroup?l(zt,{key:f.key,clsPrefix:o,tmNode:f}):f.ignored?null:l(Ot,{clsPrefix:o,key:f.key,tmNode:f})}):l("div",{class:`${o}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(f=>f.isGroup?l(zt,{key:f.key,clsPrefix:o,tmNode:f}):l(Ot,{clsPrefix:o,key:f.key,tmNode:f})))}),ut(e.action,f=>f&&[l("div",{class:`${o}-base-select-menu__action`,"data-action":!0,key:"action"},f),l(eo,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),go={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},po=e=>{const{borderRadius:t,textColor2:o,textColorDisabled:r,inputColor:i,inputColorDisabled:c,primaryColor:f,primaryColorHover:a,warningColor:S,warningColorHover:x,errorColor:g,errorColorHover:F,borderColor:O,iconColor:P,iconColorDisabled:w,clearColor:C,clearColorHover:k,clearColorPressed:R,placeholderColor:T,placeholderColorDisabled:Y,fontSizeTiny:Q,fontSizeSmall:ee,fontSizeMedium:L,fontSizeLarge:q,heightTiny:K,heightSmall:te,heightMedium:le,heightLarge:h}=e;return Object.assign(Object.assign({},go),{fontSizeTiny:Q,fontSizeSmall:ee,fontSizeMedium:L,fontSizeLarge:q,heightTiny:K,heightSmall:te,heightMedium:le,heightLarge:h,borderRadius:t,textColor:o,textColorDisabled:r,placeholderColor:T,placeholderColorDisabled:Y,color:i,colorDisabled:c,colorActive:i,border:`1px solid ${O}`,borderHover:`1px solid ${a}`,borderActive:`1px solid ${f}`,borderFocus:`1px solid ${a}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${_e(f,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${_e(f,{alpha:.2})}`,caretColor:f,arrowColor:P,arrowColorDisabled:w,loadingColor:f,borderWarning:`1px solid ${S}`,borderHoverWarning:`1px solid ${x}`,borderActiveWarning:`1px solid ${S}`,borderFocusWarning:`1px solid ${x}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${_e(S,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${_e(S,{alpha:.2})}`,colorActiveWarning:i,caretColorWarning:S,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${F}`,borderActiveError:`1px solid ${g}`,borderFocusError:`1px solid ${F}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${_e(g,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${_e(g,{alpha:.2})}`,colorActiveError:i,caretColorError:g,clearColor:C,clearColorHover:k,clearColorPressed:R})},bo=Xe({name:"InternalSelection",common:Ne,peers:{Popover:Rn},self:po}),Wt=bo,mo=fe([V("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[V("base-loading",`
 color: var(--n-loading-color);
 `),V("base-selection-tags","min-height: var(--n-height);"),G("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),G("state-border",`
 z-index: 1;
 border-color: #0000;
 `),V("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[G("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),V("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[G("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),V("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `,[G("inner",`
 max-width: 100%;
 overflow: hidden;
 `)]),V("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),V("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[V("base-selection-input",`
 font-size: inherit;
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[G("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),G("render-label",`
 color: var(--n-text-color);
 `)]),dt("disabled",[fe("&:hover",[G("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),ue("focus",[G("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),ue("active",[G("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),V("base-selection-label","background-color: var(--n-color-active);"),V("base-selection-tags","background-color: var(--n-color-active);")])]),ue("disabled","cursor: not-allowed;",[G("arrow",`
 color: var(--n-arrow-color-disabled);
 `),V("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[V("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),G("render-label",`
 color: var(--n-text-color-disabled);
 `)]),V("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),V("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),V("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[G("input",`
 font-size: inherit;
 font-family: inherit;
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),G("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 -webkit-user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(e=>ue(`${e}-status`,[G("state-border",`border: var(--n-border-${e});`),dt("disabled",[fe("&:hover",[G("state-border",`
 box-shadow: var(--n-box-shadow-hover-${e});
 border: var(--n-border-hover-${e});
 `)]),ue("active",[G("state-border",`
 box-shadow: var(--n-box-shadow-active-${e});
 border: var(--n-border-active-${e});
 `),V("base-selection-label",`background-color: var(--n-color-active-${e});`),V("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),ue("focus",[G("state-border",`
 box-shadow: var(--n-box-shadow-focus-${e});
 border: var(--n-border-focus-${e});
 `)])])]))]),V("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 margin-right: -8px;
 `),V("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[fe("&:last-child","padding-right: 0;"),V("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[G("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),wo=de({name:"InternalSelection",props:Object.assign(Object.assign({},we.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(e){const t=z(null),o=z(null),r=z(null),i=z(null),c=z(null),f=z(null),a=z(null),S=z(null),x=z(null),g=z(null),F=z(!1),O=z(!1),P=z(!1),w=we("InternalSelection","-internal-selection",mo,Wt,e,ae(e,"clsPrefix")),C=_(()=>e.clearable&&!e.disabled&&(P.value||e.active)),k=_(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Be(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),R=_(()=>{const d=e.selectedOption;if(!!d)return d[e.labelField]}),T=_(()=>e.multiple?!!(Array.isArray(e.selectedOptions)&&e.selectedOptions.length):e.selectedOption!==null);function Y(){var d;const{value:b}=t;if(b){const{value:W}=o;W&&(W.style.width=`${b.offsetWidth}px`,e.maxTagCount!=="responsive"&&((d=x.value)===null||d===void 0||d.sync()))}}function Q(){const{value:d}=g;d&&(d.style.display="none")}function ee(){const{value:d}=g;d&&(d.style.display="inline-block")}$e(ae(e,"active"),d=>{d||Q()}),$e(ae(e,"pattern"),()=>{e.multiple&&vt(Y)});function L(d){const{onFocus:b}=e;b&&b(d)}function q(d){const{onBlur:b}=e;b&&b(d)}function K(d){const{onDeleteOption:b}=e;b&&b(d)}function te(d){const{onClear:b}=e;b&&b(d)}function le(d){const{onPatternInput:b}=e;b&&b(d)}function h(d){var b;(!d.relatedTarget||!(!((b=r.value)===null||b===void 0)&&b.contains(d.relatedTarget)))&&L(d)}function m(d){var b;!((b=r.value)===null||b===void 0)&&b.contains(d.relatedTarget)||q(d)}function B(d){te(d)}function X(){P.value=!0}function Z(){P.value=!1}function U(d){!e.active||!e.filterable||d.target!==o.value&&d.preventDefault()}function $(d){K(d)}function J(d){if(d.key==="Backspace"&&!s.value&&!e.pattern.length){const{selectedOptions:b}=e;b!=null&&b.length&&$(b[b.length-1])}}const s=z(!1);let p=null;function H(d){const{value:b}=t;if(b){const W=d.target.value;b.textContent=W,Y()}s.value?p=d:le(d)}function ne(){s.value=!0}function se(){s.value=!1,le(p),p=null}function he(d){var b;O.value=!0,(b=e.onPatternFocus)===null||b===void 0||b.call(e,d)}function ge(d){var b;O.value=!1,(b=e.onPatternBlur)===null||b===void 0||b.call(e,d)}function xe(){var d,b;if(e.filterable)O.value=!1,(d=f.value)===null||d===void 0||d.blur(),(b=o.value)===null||b===void 0||b.blur();else if(e.multiple){const{value:W}=i;W==null||W.blur()}else{const{value:W}=c;W==null||W.blur()}}function ye(){var d,b,W;e.filterable?(O.value=!1,(d=f.value)===null||d===void 0||d.focus()):e.multiple?(b=i.value)===null||b===void 0||b.focus():(W=c.value)===null||W===void 0||W.focus()}function pe(){const{value:d}=o;d&&(ee(),d.focus())}function oe(){const{value:d}=o;d&&d.blur()}function Te(d){const{value:b}=a;b&&b.setTextContent(`+${d}`)}function be(){const{value:d}=S;return d}function Me(){return o.value}let Ce=null;function Se(){Ce!==null&&window.clearTimeout(Ce)}function Oe(){e.disabled||e.active||(Se(),Ce=window.setTimeout(()=>{F.value=!0},100))}function ze(){Se()}function u(d){d||(Se(),F.value=!1)}Ae(()=>{Tn(()=>{const d=f.value;!d||(d.tabIndex=e.disabled||O.value?-1:0)})}),Dt(r,e.onResize);const{inlineThemeDisabled:y}=e,I=_(()=>{const{size:d}=e,{common:{cubicBezierEaseInOut:b},self:{borderRadius:W,color:me,placeholderColor:ce,textColor:Ie,paddingSingle:Pe,paddingMultiple:Ze,caretColor:Ve,colorDisabled:Ee,textColorDisabled:De,placeholderColorDisabled:Qe,colorActive:Je,boxShadowFocus:Le,boxShadowActive:Fe,boxShadowHover:n,border:v,borderFocus:M,borderHover:j,borderActive:A,arrowColor:E,arrowColorDisabled:N,loadingColor:ie,colorActiveWarning:He,boxShadowFocusWarning:et,boxShadowActiveWarning:Ut,boxShadowHoverWarning:Kt,borderWarning:Gt,borderFocusWarning:qt,borderHoverWarning:Yt,borderActiveWarning:Xt,colorActiveError:Zt,boxShadowFocusError:Qt,boxShadowActiveError:Jt,boxShadowHoverError:en,borderError:tn,borderFocusError:nn,borderHoverError:on,borderActiveError:ln,clearColor:rn,clearColorHover:an,clearColorPressed:sn,clearSize:dn,arrowSize:un,[Re("height",d)]:cn,[Re("fontSize",d)]:fn}}=w.value;return{"--n-bezier":b,"--n-border":v,"--n-border-active":A,"--n-border-focus":M,"--n-border-hover":j,"--n-border-radius":W,"--n-box-shadow-active":Fe,"--n-box-shadow-focus":Le,"--n-box-shadow-hover":n,"--n-caret-color":Ve,"--n-color":me,"--n-color-active":Je,"--n-color-disabled":Ee,"--n-font-size":fn,"--n-height":cn,"--n-padding-single":Pe,"--n-padding-multiple":Ze,"--n-placeholder-color":ce,"--n-placeholder-color-disabled":Qe,"--n-text-color":Ie,"--n-text-color-disabled":De,"--n-arrow-color":E,"--n-arrow-color-disabled":N,"--n-loading-color":ie,"--n-color-active-warning":He,"--n-box-shadow-focus-warning":et,"--n-box-shadow-active-warning":Ut,"--n-box-shadow-hover-warning":Kt,"--n-border-warning":Gt,"--n-border-focus-warning":qt,"--n-border-hover-warning":Yt,"--n-border-active-warning":Xt,"--n-color-active-error":Zt,"--n-box-shadow-focus-error":Qt,"--n-box-shadow-active-error":Jt,"--n-box-shadow-hover-error":en,"--n-border-error":tn,"--n-border-focus-error":nn,"--n-border-hover-error":on,"--n-border-active-error":ln,"--n-clear-size":dn,"--n-clear-color":rn,"--n-clear-color-hover":an,"--n-clear-color-pressed":sn,"--n-arrow-size":un}}),D=y?Ye("internal-selection",_(()=>e.size[0]),I,e):void 0;return{mergedTheme:w,mergedClearable:C,patternInputFocused:O,filterablePlaceholder:k,label:R,selected:T,showTagsPanel:F,isCompositing:s,counterRef:a,counterWrapperRef:S,patternInputMirrorRef:t,patternInputRef:o,selfRef:r,multipleElRef:i,singleElRef:c,patternInputWrapperRef:f,overflowRef:x,inputTagElRef:g,handleMouseDown:U,handleFocusin:h,handleClear:B,handleMouseEnter:X,handleMouseLeave:Z,handleDeleteOption:$,handlePatternKeyDown:J,handlePatternInputInput:H,handlePatternInputBlur:ge,handlePatternInputFocus:he,handleMouseEnterCounter:Oe,handleMouseLeaveCounter:ze,handleFocusout:m,handleCompositionEnd:se,handleCompositionStart:ne,onPopoverUpdateShow:u,focus:ye,focusInput:pe,blur:xe,blurInput:oe,updateCounter:Te,getCounter:be,getTail:Me,renderLabel:e.renderLabel,cssVars:y?void 0:I,themeClass:D==null?void 0:D.themeClass,onRender:D==null?void 0:D.onRender}},render(){const{status:e,multiple:t,size:o,disabled:r,filterable:i,maxTagCount:c,bordered:f,clsPrefix:a,onRender:S,renderTag:x,renderLabel:g}=this;S==null||S();const F=c==="responsive",O=typeof c=="number",P=F||O,w=l(Fn,null,{default:()=>l(Dn,{clsPrefix:a,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var k,R;return(R=(k=this.$slots).arrow)===null||R===void 0?void 0:R.call(k)}})});let C;if(t){const{labelField:k}=this,R=m=>l("div",{class:`${a}-base-selection-tag-wrapper`,key:m.value},x?x({option:m,handleClose:()=>this.handleDeleteOption(m)}):l(nt,{size:o,closable:!m.disabled,disabled:r,onClose:()=>this.handleDeleteOption(m),internalCloseFocusable:!1,internalStopClickPropagation:!0},{default:()=>g?g(m,!0):Be(m[k],m,!0)})),T=(O?this.selectedOptions.slice(0,c):this.selectedOptions).map(R),Y=i?l("div",{class:`${a}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},l("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${a}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),l("span",{ref:"patternInputMirrorRef",class:`${a}-base-selection-input-tag__mirror`},this.pattern)):null,Q=F?()=>l("div",{class:`${a}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},l(nt,{size:o,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let ee;if(O){const m=this.selectedOptions.length-c;m>0&&(ee=l("div",{class:`${a}-base-selection-tag-wrapper`,key:"__counter__"},l(nt,{size:o,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${m}`})))}const L=F?i?l(Mt,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>T,counter:Q,tail:()=>Y}):l(Mt,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>T,counter:Q}):O?T.concat(ee):T,q=P?()=>l("div",{class:`${a}-base-selection-popover`},F?T:this.selectedOptions.map(R)):void 0,K=P?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,le=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?l("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`},l("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)):null,h=i?l("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-tags`},L,F?null:Y,w):l("div",{ref:"multipleElRef",class:`${a}-base-selection-tags`,tabindex:r?void 0:0},L,w);C=l(On,null,P?l(Mn,Object.assign({},K,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>h,default:q}):h,le)}else if(i){const k=this.pattern||this.isCompositing,R=this.active?!k:!this.selected,T=this.active?!1:this.selected;C=l("div",{ref:"patternInputWrapperRef",class:`${a}-base-selection-label`},l("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${a}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),T?l("div",{class:`${a}-base-selection-label__render-label ${a}-base-selection-overlay`,key:"input"},l("div",{class:`${a}-base-selection-overlay__wrapper`},x?x({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):Be(this.label,this.selectedOption,!0))):null,R?l("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},l("div",{class:`${a}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,w)}else C=l("div",{ref:"singleElRef",class:`${a}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?l("div",{class:`${a}-base-selection-input`,title:Wn(this.label),key:"input"},l("div",{class:`${a}-base-selection-input__content`},x?x({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):Be(this.label,this.selectedOption,!0))):l("div",{class:`${a}-base-selection-placeholder ${a}-base-selection-overlay`,key:"placeholder"},l("div",{class:`${a}-base-selection-placeholder__inner`},this.placeholder)),w);return l("div",{ref:"selfRef",class:[`${a}-base-selection`,this.themeClass,e&&`${a}-base-selection--${e}-status`,{[`${a}-base-selection--active`]:this.active,[`${a}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${a}-base-selection--disabled`]:this.disabled,[`${a}-base-selection--multiple`]:this.multiple,[`${a}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},C,f?l("div",{class:`${a}-base-selection__border`}):null,f?l("div",{class:`${a}-base-selection__state-border`}):null)}});function qe(e){return e.type==="group"}function jt(e){return e.type==="ignored"}function lt(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch{return!1}}function xo(e,t){return{getIsGroup:qe,getIgnored:jt,getKey(r){return qe(r)?r.name||r.key||"key-required":r[e]},getChildren(r){return r[t]}}}function yo(e,t,o,r){if(!t)return e;function i(c){if(!Array.isArray(c))return[];const f=[];for(const a of c)if(qe(a)){const S=i(a[r]);S.length&&f.push(Object.assign({},a,{[r]:S}))}else{if(jt(a))continue;t(o,a)&&f.push(a)}return f}return i(e)}function Co(e,t,o){const r=new Map;return e.forEach(i=>{qe(i)?i[o].forEach(c=>{r.set(c[t],c)}):r.set(i[t],i)}),r}function So(e){const{boxShadow2:t}=e;return{menuBoxShadow:t}}const Ro=Xe({name:"Select",common:Ne,peers:{InternalSelection:Wt,InternalSelectMenu:Ht},self:So}),To=Ro,Fo=fe([V("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),V("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[Nt({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Mo=Object.assign(Object.assign({},we.props),{to:ht.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,internalShowCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Eo=de({name:"Select",props:Mo,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:o,namespaceRef:r,inlineThemeDisabled:i}=gt(e),c=we("Select","-select",Fo,To,e,t),f=z(e.defaultValue),a=ae(e,"value"),S=ft(a,f),x=z(!1),g=z(""),F=_(()=>{const{valueField:n,childrenField:v}=e,M=xo(n,v);return An(m.value,M)}),O=_(()=>Co(le.value,e.valueField,e.childrenField)),P=z(!1),w=ft(ae(e,"show"),P),C=z(null),k=z(null),R=z(null),{localeRef:T}=mt("Select"),Y=_(()=>{var n;return(n=e.placeholder)!==null&&n!==void 0?n:T.value.placeholder}),Q=zn(e,["items","options"]),ee=[],L=z([]),q=z([]),K=z(new Map),te=_(()=>{const{fallbackOption:n}=e;if(n===void 0){const{labelField:v,valueField:M}=e;return j=>({[v]:String(j),[M]:j})}return n===!1?!1:v=>Object.assign(n(v),{value:v})}),le=_(()=>q.value.concat(L.value).concat(Q.value)),h=_(()=>{const{filter:n}=e;if(n)return n;const{labelField:v,valueField:M}=e;return(j,A)=>{if(!A)return!1;const E=A[v];if(typeof E=="string")return lt(j,E);const N=A[M];return typeof N=="string"?lt(j,N):typeof N=="number"?lt(j,String(N)):!1}}),m=_(()=>{if(e.remote)return Q.value;{const{value:n}=le,{value:v}=g;return!v.length||!e.filterable?n:yo(n,h.value,v,e.childrenField)}});function B(n){const v=e.remote,{value:M}=K,{value:j}=O,{value:A}=te,E=[];return n.forEach(N=>{if(j.has(N))E.push(j.get(N));else if(v&&M.has(N))E.push(M.get(N));else if(A){const ie=A(N);ie&&E.push(ie)}}),E}const X=_(()=>{if(e.multiple){const{value:n}=S;return Array.isArray(n)?B(n):[]}return null}),Z=_(()=>{const{value:n}=S;return!e.multiple&&!Array.isArray(n)?n===null?null:B([n])[0]||null:null}),U=Vt(e),{mergedSizeRef:$,mergedDisabledRef:J,mergedStatusRef:s}=U;function p(n,v){const{onChange:M,"onUpdate:value":j,onUpdateValue:A}=e,{nTriggerFormChange:E,nTriggerFormInput:N}=U;M&&re(M,n,v),A&&re(A,n,v),j&&re(j,n,v),f.value=n,E(),N()}function H(n){const{onBlur:v}=e,{nTriggerFormBlur:M}=U;v&&re(v,n),M()}function ne(){const{onClear:n}=e;n&&re(n)}function se(n){const{onFocus:v}=e,{nTriggerFormFocus:M}=U;v&&re(v,n),M()}function he(n){const{onSearch:v}=e;v&&re(v,n)}function ge(n){const{onScroll:v}=e;v&&re(v,n)}function xe(){var n;const{remote:v,multiple:M}=e;if(v){const{value:j}=K;if(M){const{valueField:A}=e;(n=X.value)===null||n===void 0||n.forEach(E=>{j.set(E[A],E)})}else{const A=Z.value;A&&j.set(A[e.valueField],A)}}}function ye(n){const{onUpdateShow:v,"onUpdate:show":M}=e;v&&re(v,n),M&&re(M,n),P.value=n}function pe(){J.value||(ye(!0),P.value=!0,e.filterable&&De())}function oe(){ye(!1)}function Te(){g.value="",q.value=ee}const be=z(!1);function Me(){e.filterable&&(be.value=!0)}function Ce(){e.filterable&&(be.value=!1,w.value||Te())}function Se(){J.value||(w.value?e.filterable?De():oe():pe())}function Oe(n){var v,M;!((M=(v=R.value)===null||v===void 0?void 0:v.selfRef)===null||M===void 0)&&M.contains(n.relatedTarget)||(x.value=!1,H(n),oe())}function ze(n){se(n),x.value=!0}function u(n){x.value=!0}function y(n){var v;!((v=C.value)===null||v===void 0)&&v.$el.contains(n.relatedTarget)||(x.value=!1,H(n),oe())}function I(){var n;(n=C.value)===null||n===void 0||n.focus(),oe()}function D(n){var v;w.value&&(!((v=C.value)===null||v===void 0)&&v.$el.contains(n.target)||oe())}function d(n){if(!Array.isArray(n))return[];if(te.value)return Array.from(n);{const{remote:v}=e,{value:M}=O;if(v){const{value:j}=K;return n.filter(A=>M.has(A)||j.has(A))}else return n.filter(j=>M.has(j))}}function b(n){W(n.rawNode)}function W(n){if(J.value)return;const{tag:v,remote:M,clearFilterAfterSelect:j,valueField:A}=e;if(v&&!M){const{value:E}=q,N=E[0]||null;if(N){const ie=L.value;ie.length?ie.push(N):L.value=[N],q.value=ee}}if(M&&K.value.set(n[A],n),e.multiple){const E=d(S.value),N=E.findIndex(ie=>ie===n[A]);if(~N){if(E.splice(N,1),v&&!M){const ie=me(n[A]);~ie&&(L.value.splice(ie,1),j&&(g.value=""))}}else E.push(n[A]),j&&(g.value="");p(E,B(E))}else{if(v&&!M){const E=me(n[A]);~E?L.value=[L.value[E]]:L.value=ee}Ee(),oe(),p(n[A],n)}}function me(n){return L.value.findIndex(M=>M[e.valueField]===n)}function ce(n){w.value||pe();const{value:v}=n.target;g.value=v;const{tag:M,remote:j}=e;if(he(v),M&&!j){if(!v){q.value=ee;return}const{onCreate:A}=e,E=A?A(v):{[e.labelField]:v,[e.valueField]:v},{valueField:N}=e;Q.value.some(ie=>ie[N]===E[N])||L.value.some(ie=>ie[N]===E[N])?q.value=ee:q.value=[E]}}function Ie(n){n.stopPropagation();const{multiple:v}=e;!v&&e.filterable&&oe(),ne(),v?p([],[]):p(null,null)}function Pe(n){!Ge(n,"action")&&!Ge(n,"empty")&&n.preventDefault()}function Ze(n){ge(n)}function Ve(n){var v,M,j,A,E;switch(n.key){case" ":if(e.filterable)break;n.preventDefault();case"Enter":if(!(!((v=C.value)===null||v===void 0)&&v.isCompositing)){if(w.value){const N=(M=R.value)===null||M===void 0?void 0:M.getPendingTmNode();N?b(N):e.filterable||(oe(),Ee())}else if(pe(),e.tag&&be.value){const N=q.value[0];if(N){const ie=N[e.valueField],{value:He}=S;e.multiple&&Array.isArray(He)&&He.some(et=>et===ie)||W(N)}}}n.preventDefault();break;case"ArrowUp":if(n.preventDefault(),e.loading)return;w.value&&((j=R.value)===null||j===void 0||j.prev());break;case"ArrowDown":if(n.preventDefault(),e.loading)return;w.value?(A=R.value)===null||A===void 0||A.next():pe();break;case"Escape":w.value&&(jn(n),oe()),(E=C.value)===null||E===void 0||E.focus();break}}function Ee(){var n;(n=C.value)===null||n===void 0||n.focus()}function De(){var n;(n=C.value)===null||n===void 0||n.focusInput()}function Qe(){var n;!w.value||(n=k.value)===null||n===void 0||n.syncPosition()}xe(),$e(ae(e,"options"),xe);const Je={focus:()=>{var n;(n=C.value)===null||n===void 0||n.focus()},blur:()=>{var n;(n=C.value)===null||n===void 0||n.blur()}},Le=_(()=>{const{self:{menuBoxShadow:n}}=c.value;return{"--n-menu-box-shadow":n}}),Fe=i?Ye("select",void 0,Le,e):void 0;return Object.assign(Object.assign({},Je),{mergedStatus:s,mergedClsPrefix:t,mergedBordered:o,namespace:r,treeMate:F,isMounted:In(),triggerRef:C,menuRef:R,pattern:g,uncontrolledShow:P,mergedShow:w,adjustedTo:ht(e),uncontrolledValue:f,mergedValue:S,followerRef:k,localizedPlaceholder:Y,selectedOption:Z,selectedOptions:X,mergedSize:$,mergedDisabled:J,focused:x,activeWithoutMenuOpen:be,inlineThemeDisabled:i,onTriggerInputFocus:Me,onTriggerInputBlur:Ce,handleTriggerOrMenuResize:Qe,handleMenuFocus:u,handleMenuBlur:y,handleMenuTabOut:I,handleTriggerClick:Se,handleToggle:b,handleDeleteOption:W,handlePatternInput:ce,handleClear:Ie,handleTriggerBlur:Oe,handleTriggerFocus:ze,handleKeydown:Ve,handleMenuAfterLeave:Te,handleMenuClickOutside:D,handleMenuScroll:Ze,handleMenuKeydown:Ve,handleMenuMousedown:Pe,mergedTheme:c,cssVars:i?void 0:Le,themeClass:Fe==null?void 0:Fe.themeClass,onRender:Fe==null?void 0:Fe.onRender})},render(){return l("div",{class:`${this.mergedClsPrefix}-select`},l(Pn,null,{default:()=>[l(kn,null,{default:()=>l(wo,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize},{arrow:()=>{var e,t;return[(t=(e=this.$slots).arrow)===null||t===void 0?void 0:t.call(e)]}})}),l(_n,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===ht.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>l(At,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,o;return this.mergedShow||this.displayDirective==="show"?((e=this.onRender)===null||e===void 0||e.call(this),Bn(l(vo,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(t=this.menuProps)===null||t===void 0?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(o=this.menuProps)===null||o===void 0?void 0:o.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.internalShowCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var r,i;return[(i=(r=this.$slots).empty)===null||i===void 0?void 0:i.call(r)]},action:()=>{var r,i;return[(i=(r=this.$slots).action)===null||i===void 0?void 0:i.call(r)]}}),this.displayDirective==="show"?[[$n,this.mergedShow],[Ct,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Ct,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Oo=e=>{const{textColorDisabled:t}=e;return{iconColorDisabled:t}},zo=Xe({name:"InputNumber",common:Ne,peers:{Button:Nn,Input:Ln},self:Oo}),Io=zo;function Po(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function ko(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function rt(e){return e==null?!0:!Number.isNaN(e)}function It(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function at(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const _o=fe([V("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),V("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Pt=800,kt=100,Bo=Object.assign(Object.assign({},we.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),Do=de({name:"InputNumber",props:Bo,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:o,mergedRtlRef:r}=gt(e),i=we("InputNumber","-input-number",_o,Io,e,o),{localeRef:c}=mt("InputNumber"),f=Vt(e),{mergedSizeRef:a,mergedDisabledRef:S,mergedStatusRef:x}=f,g=z(null),F=z(null),O=z(null),P=z(e.defaultValue),w=ae(e,"value"),C=ft(w,P),k=z(""),R=u=>{const y=String(u).split(".")[1];return y?y.length:0},T=u=>{const y=[e.min,e.max,e.step,u].map(I=>I===void 0?0:R(I));return Math.max(...y)},Y=ve(()=>{const{placeholder:u}=e;return u!==void 0?u:c.value.placeholder}),Q=ve(()=>{const u=at(e.step);return u!==null?u===0?1:Math.abs(u):1}),ee=ve(()=>{const u=at(e.min);return u!==null?u:null}),L=ve(()=>{const u=at(e.max);return u!==null?u:null}),q=u=>{const{value:y}=C;if(u===y){te();return}const{"onUpdate:value":I,onUpdateValue:D,onChange:d}=e,{nTriggerFormInput:b,nTriggerFormChange:W}=f;d&&re(d,u),D&&re(D,u),I&&re(I,u),P.value=u,b(),W()},K=({offset:u,doUpdateIfValid:y,fixPrecision:I,isInputing:D})=>{const{value:d}=k;if(D&&ko(d))return!1;const b=(e.parse||Po)(d);if(b===null)return y&&q(null),null;if(rt(b)){const W=R(b),{precision:me}=e;if(me!==void 0&&me<W&&!I)return!1;let ce=parseFloat((b+u).toFixed(me!=null?me:T(b)));if(rt(ce)){const{value:Ie}=L,{value:Pe}=ee;if(Ie!==null&&ce>Ie){if(!y||D)return!1;ce=Ie}if(Pe!==null&&ce<Pe){if(!y||D)return!1;ce=Pe}return e.validator&&!e.validator(ce)?!1:(y&&q(ce),ce)}}return!1},te=()=>{const{value:u}=C;if(rt(u)){const{format:y,precision:I}=e;y?k.value=y(u):u===null||I===void 0||R(u)>I?k.value=It(u,void 0):k.value=It(u,I)}else k.value=String(u)};te();const le=ve(()=>K({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),h=ve(()=>{const{value:u}=C;if(e.validator&&u===null)return!1;const{value:y}=Q;return K({offset:-y,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),m=ve(()=>{const{value:u}=C;if(e.validator&&u===null)return!1;const{value:y}=Q;return K({offset:+y,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function B(u){const{onFocus:y}=e,{nTriggerFormFocus:I}=f;y&&re(y,u),I()}function X(u){var y,I;if(u.target===((y=g.value)===null||y===void 0?void 0:y.wrapperElRef))return;const D=K({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(D!==!1){const W=(I=g.value)===null||I===void 0?void 0:I.inputElRef;W&&(W.value=String(D||"")),C.value===D&&te()}else te();const{onBlur:d}=e,{nTriggerFormBlur:b}=f;d&&re(d,u),b()}function Z(u){const{onClear:y}=e;y&&re(y,u)}function U(){const{value:u}=m;if(!u){ye();return}const{value:y}=C;if(y===null)e.validator||q(p());else{const{value:I}=Q;K({offset:I,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function $(){const{value:u}=h;if(!u){xe();return}const{value:y}=C;if(y===null)e.validator||q(p());else{const{value:I}=Q;K({offset:-I,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const J=B,s=X;function p(){if(e.validator)return null;const{value:u}=ee,{value:y}=L;return u!==null?Math.max(0,u):y!==null?Math.min(0,y):0}function H(u){Z(u),q(null)}function ne(u){var y,I,D;!((y=O.value)===null||y===void 0)&&y.$el.contains(u.target)&&u.preventDefault(),!((I=F.value)===null||I===void 0)&&I.$el.contains(u.target)&&u.preventDefault(),(D=g.value)===null||D===void 0||D.activate()}let se=null,he=null,ge=null;function xe(){ge&&(window.clearTimeout(ge),ge=null),se&&(window.clearInterval(se),se=null)}function ye(){oe&&(window.clearTimeout(oe),oe=null),he&&(window.clearInterval(he),he=null)}function pe(){ge=window.setTimeout(()=>{se=window.setInterval(()=>{$()},kt)},Pt),St("mouseup",document,()=>{window.setTimeout(xe,0)},{once:!0})}let oe=null;function Te(){oe=window.setTimeout(()=>{he=window.setInterval(()=>{U()},kt)},Pt),St("mouseup",document,()=>{window.setTimeout(ye,0)},{once:!0})}const be=()=>{he||U()},Me=()=>{se||$()};function Ce(u){var y,I;if(u.key==="Enter"){if(u.target===((y=g.value)===null||y===void 0?void 0:y.wrapperElRef))return;K({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((I=g.value)===null||I===void 0||I.deactivate())}else if(u.key==="ArrowUp"){if(!m.value||e.keyboard.ArrowUp===!1)return;u.preventDefault(),K({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&U()}else if(u.key==="ArrowDown"){if(!h.value||e.keyboard.ArrowDown===!1)return;u.preventDefault(),K({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&$()}}function Se(u){k.value=u,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&K({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}$e(C,()=>{te()});const Oe={focus:()=>{var u;return(u=g.value)===null||u===void 0?void 0:u.focus()},blur:()=>{var u;return(u=g.value)===null||u===void 0?void 0:u.blur()}},ze=Vn("InputNumber",r,o);return Object.assign(Object.assign({},Oe),{rtlEnabled:ze,inputInstRef:g,minusButtonInstRef:F,addButtonInstRef:O,mergedClsPrefix:o,mergedBordered:t,uncontrolledValue:P,mergedValue:C,mergedPlaceholder:Y,displayedValueInvalid:le,mergedSize:a,mergedDisabled:S,displayedValue:k,addable:m,minusable:h,mergedStatus:x,handleFocus:J,handleBlur:s,handleClear:H,handleMouseDown:ne,handleAddClick:be,handleMinusClick:Me,handleAddMousedown:Te,handleMinusMousedown:pe,handleKeyDown:Ce,handleUpdateDisplayedValue:Se,mergedTheme:i,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:_(()=>{const{self:{iconColorDisabled:u}}=i.value,[y,I,D,d]=En(u);return{textColorTextDisabled:`rgb(${y}, ${I}, ${D})`,opacityDisabled:`${d}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,o=()=>l(Rt,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>ct(t["minus-icon"],()=>[l(Ke,{clsPrefix:e},{default:()=>l(Jn,null)})])}),r=()=>l(Rt,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>ct(t["add-icon"],()=>[l(Ke,{clsPrefix:e},{default:()=>l(Xn,null)})])});return l("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},l(Hn,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,internalLoadingBeforeSuffix:!0},{prefix:()=>{var i;return this.showButton&&this.buttonPlacement==="both"?[o(),ut(t.prefix,c=>c?l("span",{class:`${e}-input-number-prefix`},c):null)]:(i=t.prefix)===null||i===void 0?void 0:i.call(t)},suffix:()=>{var i;return this.showButton?[ut(t.suffix,c=>c?l("span",{class:`${e}-input-number-suffix`},c):null),this.buttonPlacement==="right"?o():null,r()]:(i=t.suffix)===null||i===void 0?void 0:i.call(t)}}))}});export{Xn as A,vo as N,Do as _,Eo as a,xo as c,Vo as e,Ht as i,ot as m,To as s};
